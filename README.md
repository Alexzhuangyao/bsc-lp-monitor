# BSC LP Position Monitor

一个用于监控和管理 PancakeSwap V3 LP 仓位的自动化工具。

## 功能特点

- 🔍 实时监控 LP 仓位状态
- 💰 自动检测价格是否超出区间
- 🔄 自动撤池和代币兑换功能
- 📊 支持 USDT 交易对的智能策略
- 🛡️ 多节点容错和自动切换
- 📈 详细的仓位信息展示
- 🔔 交易状态实时通知

## 快速开始

### 环境要求
- Node.js 16.x 或更高版本
- npm 8.x 或更高版本
- Chrome 浏览器 (推荐)
- MetaMask 钱包

### 安装步骤

1. 进入项目
```bash
cd bsc-lp-monitor
```

2. 安装依赖并运行
```bash
# 安装客户端依赖
cd client
npm install
npm start
# 安装服务端依赖
cd ../server
npm install
npm start
```

3. 启动开发服务器
```bash
# 确保在 server 目录下
cd server
npm start
```

# 如果出现依赖冲突，可以尝试
```bash
npm install --legacy-peer-deps
```

应用将在 http://localhost:3000 启动

## 使用指南

### 初始设置

1. **连接钱包**
   - 点击右上角的齿轮按钮
   - 输入私钥
   - 点击导入钱包

2. **配置监控策略**
   - 在仓位列表中选择要监控的 LP 仓位（若为首次监测到的LP，将自动开启监控和策略）
   - 配置自动操作选项（撤池、重组等）

### 监控操作

1. **开启监控**
   - 在仓位列表中找到目标仓位
   - 切换监控开关到"开启"状态
   - 观察状态变化和操作记录

2. **查看详情**
   - 点击仓位行查看详细信息
   - 监控价格变动和区间状态

3. **手动操作**
   - 使用"撤池"按钮手动移除流动性
   - 确认交易并等待确认
   - 查看操作结果和代币余额

### 自动化策略说明

1. **涨超区间策略**
   ```
   当价格超过上限时：
   1. 自动撤池
   2. 使用一半 USDT 买入代币
   3. 在新的价格区间重新加池
   ```

2. **跌超区间策略**
   ```
   当价格低于下限时：
   1. 自动撤池
   2. 将代币全部换成 USDT
   3. 等待更好的入场机会
   ```

## 常见问题

### 1. 交易失败问题
- 检查 Gas 费用设置
- 确认钱包余额充足
- 验证代币授权状态

### 2. 监控未生效
- 确认监控开关已开启
- 检查网络连接状态
- 验证价格区间设置

### 3. 自动操作未触发
- 检查策略配置是否正确
- 确认价格是否真实超出区间
- 验证钱包中是否有足够的 BNB

## 维护和更新

### 日常维护
1. 定期检查监控日志
2. 更新 RPC 节点列表
3. 检查合约授权状态
4. 备份重要配置信息

## 许可证

MIT License 